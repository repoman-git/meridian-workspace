# GOVERNANCE-CONTEXT.md
# Auto-generated for AI context injection
# Generated: 2025-11-21 08:42:38
# Session: 2025-11-21-084235

⚠️ **THIS FILE IS AUTO-INJECTED INTO EVERY AI INTERACTION**
⚠️ **AI AGENTS MUST FOLLOW THESE RULES WITHOUT EXCEPTION**

---

## CRITICAL RULE

## CRITICAL RULE: Plan Before Execution

⚠️ **NO CODE SHALL BE WRITTEN OR MODIFIED UNTIL A CLEAR PLAN HAS BEEN FORMULATED AND AGREED UPON.**


---

## PRE-TASK GOVERNANCE CHECKLIST

**BEFORE WRITING ANY CODE, AI AGENTS MUST:**

1. ✅ **Read ADR-001-COMPONENT-PLACEMENT.md** - Understand component placement rules
2. ✅ **Read AI-GUIDELINES.md** - Review planning and execution guidelines
3. ✅ **Check WORKSPACE-TASKS.json** - See active tasks and avoid duplication
4. ✅ **Check CROSS-REPO-ISSUES.json** - Be aware of known issues
5. ✅ **Verify component placement** - Ensure code belongs in correct repo
6. ✅ **Check for similar work** - Avoid duplicate effort across repos
7. ✅ **Create a plan first** - NO CODE without approved plan
8. ✅ **Document decisions** - Update ARCHITECTURE-DECISIONS.json

---

## CURRENT WORK CONTEXT

**Active Repository:** `meridian-core`
**Context ID:** `ctx-20251120-221029`
**Activated:** 2025-11-20 22:10:29
**Notes:** Testing WMS context

**Session ID:** `2025-11-21-084235`
**Workspace Root:** `/Users/simonerses/data-projects`

---

## COMPONENT PLACEMENT RULES (ADR-001)

### ✅ Place in meridian-core IF:
- Works for ANY domain (generic, reusable)
- No domain-specific imports
- Abstract interface or workflow
- Reusable orchestration logic
- Generic utilities

### ❌ Do NOT place in meridian-core IF:
- Domain-specific logic (trading, research, customer support)
- Domain-specific imports (pandas for trading, etc.)
- Domain-specific business rules

### ✅ Import Rules:
- **meridian-core:** Cannot import domain adapters (meridian-trading, meridian-research)
- **Domain repos:** Can import meridian-core
- **Domain repos:** Cannot import other domain repos

### ✅ Repository Structure:
- **meridian-core:** Generic framework (orchestration, learning, connectors)
- **meridian-trading:** Trading domain adapter (strategies, indicators, risk)
- **meridian-research:** Research domain adapter (skills, knowledge, workflows)
- **workspace:** Management plane (WMS, cross-repo governance)

---

## ACTIVE WORKSPACE STATE

### Recent Tasks (from WORKSPACE-TASKS.json)
- **WS-TASK-001:** Implement unified workspace task tracking system (completed)
- **WS-TASK-004:** Implement management plane database (SQLAlchemy + SQLite) (completed)
- **WS-TASK-002:** Implement TradingLearningEngine in meridian-trading (pending)
- **WS-TASK-003:** Consolidate task tracking across repos (pending)
- **WS-TASK-005:** Review and integrate WMS Implementation Specification (pending)

### Recent Cross-Repo Issues (from CROSS-REPO-ISSUES.json)
- **ISSUE-001:** Task tracking fragmented across multiple repos (MEDIUM)
- **ISSUE-002:** Code creep happening despite governance docs (HIGH)
- **ISSUE-003:** Session handoff gaps - previous work not visible (MEDIUM)
- **ISSUE-004:** TradingLearningEngine not implemented (HIGH)

### Recent Architecture Decisions (from ARCHITECTURE-DECISIONS.json)
- **Consolidate credentials to meridian-suite keyring service** (2025-11-20)
- **Create workspace-level task tracking system** (2025-11-20)
- **Architecture documentation standard: Date-prefixed markdown files** (2025-11-20)
- **Separate repos for core framework and domain adapters** (2025-11-20)

---

## ENFORCEMENT

**These rules are ENFORCED, not suggested:**
- Pre-task checklist is MANDATORY
- Component placement violations will be flagged
- Plan-before-code rule is STRICT
- Session context MUST be set before work begins

**Violations will be logged and may block commits.**

---

## SESSION PROTOCOL

1. **Session Start:**
   - Run `./session_start.sh` at workspace root
   - Confirm work context (which repo you're working in)
   - Governance context is auto-injected

2. **Before Any Work:**
   - Read this file (GOVERNANCE-CONTEXT.md)
   - Complete pre-task checklist
   - Verify component placement

3. **During Work:**
   - Follow planning guidelines
   - Document decisions
   - Check for cross-repo conflicts

4. **Session End:**
   - Run `./session_end.sh` at workspace root
   - Document session activities
   - Update task status

---

**Last Updated:** {datetime.now().strftime('%Y-%m-%d %H:%M:%S')}
**Auto-generated by:** workspace/scripts/generate_governance_context.py
